(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{18:function(e,t,n){},19:function(e,t,n){},25:function(e,t,n){"use strict";n.r(t);var c=n(1),s=n.n(c),r=n(5),a=n.n(r),i=(n(18),n(7)),o=(n(19),n(6)),d=n.n(o),u=n(8),l=n(4),j=n(3),b="https://cloudy-bread.herokuapp.com";function f(){var e=new Request("".concat(b,"/users"),{method:"GET",mode:"cors",headers:{"Access-Control-Allow-Origin":"*"}});return fetch(e)}function h(e,t){var n=new Request("".concat(b,"/users"),{method:"POST",mode:"cors",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify({name:e,riddle:t})});return fetch(n)}var p=function(e){var t=e.login,n=e.isMe,s=e.riddle,r=e.index,a=Object(c.useState)("password"),o=Object(i.a)(a,2),b=o[0],f=o[1],p=Object(c.useState)(""),O=Object(i.a)(p,2),x=O[0],m=O[1],g=function(){var e=Object(u.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h(t,x);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(j.jsx)(l.d,{xs:"4",children:Object(j.jsxs)(l.b,{className:"px-3 py-3",children:[Object(j.jsx)(l.c,{children:t}),n&&Object(j.jsxs)(l.g,{children:[Object(j.jsx)(l.f,{placeholder:"Riddle",type:b,defaultValue:s}),Object(j.jsx)(l.h,{children:Object(j.jsx)(l.f,{addon:!0,type:"checkbox",onClick:function(){f("password"===b?"text":"password")}})})]}),!n&&Object(j.jsxs)(l.g,{children:[Object(j.jsx)(l.f,{defaultValue:s,onChange:function(e){return m(e.target.value)}}),Object(j.jsx)(l.a,{onClick:g,children:"Change"})]})]})},r)};function O(e){var t=e.login,n=Object(c.useState)([{name:"test",riddle:"est"}]),s=Object(i.a)(n,2),r=s[0],a=s[1];return Object(c.useEffect)((function(){function e(){return(e=Object(u.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f();case 2:if(!(t=e.sent).ok){e.next=8;break}return e.next=6,t.json();case 6:n=e.sent,a(n);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(j.jsx)(l.e,{className:"lg mt-5",children:Object(j.jsx)(l.i,{className:"d-flex justify-content-center",children:r.map((function(e,n){var c=e.name,s=e.riddle;return t===c.toLowerCase()?Object(j.jsx)(p,{index:n,login:t,isMe:!0,riddle:s},n):Object(j.jsx)(p,{index:n,login:c,isMe:!1,riddle:s},n)}))})})}function x(e,t){var n=new Request("".concat("https://cloudy-bread.herokuapp.com","/users"),{method:"POST",mode:"cors",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify({name:e,riddle:t})});return fetch(n)}function m(e){var t=e.setIsLogged,n=e.setLogin,c=e.login,s=function(){var e=Object(u.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===c){e.next=6;break}return e.next=3,x(c,"");case 3:t(!0),n(c),sessionStorage.setItem("login",c);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(j.jsx)("div",{className:"container mt-5",children:Object(j.jsx)("div",{className:"row d-flex justify-content-center",children:Object(j.jsx)("div",{className:"col-md-3",children:Object(j.jsx)("div",{className:"card px-5 py-5",id:"form1",children:Object(j.jsxs)("div",{className:"form-data",children:[Object(j.jsxs)("div",{className:"forms-inputs mb-3",children:[" ",Object(j.jsx)("span",{children:"Username"}),Object(j.jsx)("input",{type:"text",onChange:function(e){return n(e.target.value)}})]}),Object(j.jsxs)("div",{className:"mb-3",children:[" ",Object(j.jsx)("button",{className:"btn btn-dark w-100",onClick:s,children:"Login"})," "]})]})})})})})}function g(){var e=Object(c.useState)(!1),t=Object(i.a)(e,2),n=t[0],s=t[1],r=Object(c.useState)(),a=Object(i.a)(r,2),o=a[0],d=a[1];return Object(c.useEffect)((function(){var e=sessionStorage.getItem("login");console.log(e),null!=e&&(d(e),s(!0))}),[]),Object(j.jsxs)("div",{className:"App",children:[!n&&Object(j.jsx)(m,{setLogin:d,setIsLogged:s,login:o}),n&&Object(j.jsx)(O,{login:o})]})}n(24);var v=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,32)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,r=t.getLCP,a=t.getTTFB;n(e),c(e),s(e),r(e),a(e)}))};a.a.render(Object(j.jsx)(s.a.StrictMode,{children:Object(j.jsx)(g,{})}),document.getElementById("root")),v()}},[[25,1,2]]]);
//# sourceMappingURL=main.01178e09.chunk.js.map